- route:
    id: get-user-by-id-route
    from:
      uri: "platform-http:/api/users/{id}"
      parameters:
        httpMethodRestrict: GET
      steps:
        - log:
            message: "Fetching user with ID: ${header.id}"
        - choice:
            when:
              - simple: "${header.id} == '1'"
                steps:
                  - setBody:
                      constant: '{"id": 1, "name": "John Doe"}'
              - simple: "${header.id} == '2'"
                steps:
                  - setBody:
                      constant: '{"id": 2, "name": "Jane Smith"}'
            otherwise:
              steps:
                - setHeader:
                    name: CamelHttpResponseCode
                    constant: 404
                - setBody:
                    constant: '{"error": "User not found"}'